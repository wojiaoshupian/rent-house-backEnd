# =====================================================
# 宝塔面板专用 - Spring Boot配置文件
# 版本: 1.0
# 创建时间: 2025-08-06
# 描述: 适用于宝塔面板环境的Spring Boot配置
# 使用方法: 将此文件重命名为application-production.properties
# =====================================================

# 服务器配置
server.port=8080
server.servlet.context-path=/
server.compression.enabled=true
server.compression.mime-types=text/html,text/xml,text/plain,text/css,text/javascript,application/javascript,application/json

# 数据库配置 - 请根据宝塔面板实际配置修改
spring.datasource.url=jdbc:mysql://localhost:3306/rent_house?useUnicode=true&characterEncoding=utf8mb4&useSSL=false&serverTimezone=Asia/Shanghai&allowPublicKeyRetrieval=true
spring.datasource.username=rent_house
spring.datasource.password=Qwesdx1245@
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# 连接池配置
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=3
spring.datasource.hikari.idle-timeout=300000
spring.datasource.hikari.max-lifetime=1800000
spring.datasource.hikari.connection-timeout=30000

# JPA配置
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect
spring.jpa.properties.hibernate.format_sql=false
spring.jpa.open-in-view=false

# 日志配置 - 适配宝塔面板路径
logging.level.root=INFO
logging.level.com.example.demo=INFO
logging.level.org.springframework.security=WARN
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n
logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n
logging.file.name=/www/wwwroot/rent-house-management/logs/app.log
logging.file.max-size=50MB
logging.file.max-history=7

# JWT配置 - 请修改为你自己的密钥
jwt.secret=bt_rent_house_management_jwt_secret_key_please_change_this_in_production
jwt.expiration=86400000

# 文件上传配置 - 适配宝塔面板路径
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=50MB
file.upload.path=/www/wwwroot/rent-house-management/uploads/

# 缓存配置 - 如果安装了Redis
# spring.cache.type=redis
# spring.redis.host=localhost
# spring.redis.port=6379
# spring.redis.database=0
# spring.redis.timeout=2000ms

# 监控配置
management.endpoints.web.exposure.include=health,info
management.endpoint.health.show-details=when-authorized

# 应用配置
app.name=房屋租赁管理系统
app.version=1.0.0
app.description=基于宝塔面板的房屋租赁管理系统

# 跨域配置 - 请根据实际域名修改
cors.allowed-origins=http://localhost,http://127.0.0.1,http://YOUR_DOMAIN
cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS
cors.allowed-headers=*
cors.allow-credentials=true

# 数据初始化配置 - 生产环境建议关闭
data.init.enabled=false

# 宝塔面板特殊配置
# 静态资源路径
spring.web.resources.static-locations=file:/www/wwwroot/rent-house-management/static/

# 时区配置
spring.jackson.time-zone=Asia/Shanghai
spring.jackson.date-format=yyyy-MM-dd HH:mm:ss

# 安全配置
server.error.include-message=never
server.error.include-binding-errors=never
server.error.include-stacktrace=never
server.error.include-exception=false
